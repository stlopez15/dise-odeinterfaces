{% extends 'visor/base.html' %}

{% block title %}Interfaces registradas | AR Interface{% endblock %}

{% block content %}

<!-- HERO -->
<section class="hero-section mb-4 fade-in">
    <div class="p-4 p-md-5 bg-white border rounded-3 shadow-sm">
        <div class="row align-items-center gy-3">
            <div class="col-md-8">
                <h1 class="h3 mb-2">
                    Interfaces registradas
                </h1>
                <p class="text-muted mb-0">
                    Gestiona tus interfaces de Realidad Aumentada y pruébalas directamente desde el navegador.
                </p>
            </div>
            <div class="col-md-4 text-md-end">
                <a href="{% url 'subir_interface' %}" class="btn btn-primary">
                    <i class="bi bi-plus-circle me-1"></i>
                    Subir nueva interfaz
                </a>
            </div>
        </div>
    </div>
</section>

<!-- GRID INTERFACES -->
<section class="fade-in">
    {% if interfaces %}
        <div class="row g-4">
            {% for i in interfaces %}
                <div class="col-12 col-sm-6 col-lg-4">
                    <div class="card card-hover h-100 border-0 shadow-sm">
                        <!-- Imagen -->
                        <div class="ratio ratio-4x3">
                            <img 
                                src="{{ i.imagen.url }}" 
                                class="card-img-top object-fit-cover" 
                                alt="{{ i.nombre }}"
                                style="border-top-left-radius: .5rem; border-top-right-radius: .5rem;"
                            >
                        </div>

                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title mb-1 text-truncate" title="{{ i.nombre }}">
                                {{ i.nombre }}
                            </h5>

                            <p class="card-text text-muted small mb-3">
                                <span class="badge rounded-pill text-bg-light border">
                                    Marcador: <strong>{{ i.marcador }}</strong>
                                </span>
                            </p>

                            <div class="mt-auto">
                                <!-- Botón RA -->
                                <a href="{% url 'ver_ra' i.id %}" class="btn btn-dark w-100">
                                    <i class="bi bi-camera-viewfinder me-1"></i>
                                    Ver en RA
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center py-5 text-muted">
            <i class="bi bi-collection-play display-6 mb-3 d-block"></i>
            <p class="mb-3">Todavía no has registrado ninguna interfaz.</p>
            <a href="{% url 'subir_interface' %}" class="btn btn-primary">
                <i class="bi bi-plus-circle me-1"></i>
                Crear la primera
            </a>
        </div>
    {% endif %}
</section>

{% endblock %}

